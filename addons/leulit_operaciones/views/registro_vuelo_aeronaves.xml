<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <report string="leulit_registro_vuelosaeronave_report"
            id="leulit_registro_vuelosaeronave_report"
            model="leulit.vuelo"
            name="leulit_operaciones.leulit_registro_vuelosaeronave_informe"
            report_type="qweb-pdf"
            paperformat="leulit.paperformat_A4_landscape_without_cabecera"
        />


        <template id="registro_vuelo_aeronaves_css">
            <style>
                .fullwidth {
                    width: 100%;
                }
                .numbervalue {
            	    text-align:right;
                }
                table {
                    border:thin solid #E3E4EA;
                    text-align:center;
                    border-collapse: collapse;		    
                    border-spacing: 0;			
                }
                th, tbody td, tfoot td {
                    border: 1px solid #000000;
                    padding-right:3px;
                    padding-left:3px;
                    text-align:center;
                    font-size:10px;
                }
                .bgcolored {
                    background-color: #585858;
                }  
                .titleheight {
                    height:0.6cm
                }
                .title_style{
                    border: 1px solid #000000;
                    padding-right:3px;
                    padding-left:3px;
                    text-align:center;
                    font-size:20px;
                    font-weight:bold;
                    vertical-align: middle;
                }
                .bold_title_style{
                    border: 1px solid #000000;
                    padding-right:1px;
                    padding-left:1px;
                    text-align:center;
                    font-size:12px;
                    font-weight:bold;
                }
                .bold_title_style2{
                    border-top: hidden;
                    border-right: hidden;
                    border-bottom: hidden;
                    border-left: 1px solid #000000;
                    padding-right:1px;
                    padding-left:1px;
                    text-align:left;
                    font-weight:bold;
                    font-size:12px;
                }
                .bold_table_style{
                    border: 1px solid #000000;
                    padding:2px;
                    text-align:center;
                    font-size:10px;
                    font-weight:bold;
                }
                .normal_table_style{
                    border: 1px solid #000000;
                    padding:6px;
                    text-align:center;
                    font-size:10px;
                }
                .small_table_style{
                    border: 1px solid #000000;
                    padding:6px;
                    text-align:center;
                    font-size:8px;
                }
            </style>
        </template>


        <template id="leulit_registro_vuelosaeronave_informe">
            <t t-call="web.html_container">
                <t t-set="data_report_margin_top" t-value="5"/>
                <t t-call="leulit.Registro_vuelo_aeronaves_css"/>
                <table class="fullwidth">
                    <thead>
                        <tr>
                            <td class="title_style" style="text-align:center;vertical-align: middle;" rowspan="3" colspan="6">
                                <img src="https://s3-eu-west-1.amazonaws.com/helimisc/helipistas_logo.jpg" style="margin:5px;"/>
                            </td>
                            <td class="title_style" rowspan="3" colspan="8">Registro De Vuelos</td>
                            <td class="bold_title_style" colspan="3">Total Anterior</td>
                            <td class="bold_title_style2" >Documento ref:</td>
                            <td class="bold_title_style2"><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y%m%d%I%M%S')"/></td>
                        </tr>
                        <tr>
                            <td class="bold_title_style" >Horas</td>
                            <td class="bold_title_style" >Min.</td>
                            <td class="bold_title_style" >Aterrizajes</td>
                            <td class="bold_title_style2" >Matrícula:</td>
                            <td class="bold_title_style2" ><span t-esc="docs[0].helicoptero_id.name"/></td>
                        </tr>
                        <tr>
                            <td class="bold_title_style" >-</td>
                            <td class="bold_title_style" >-</td>
                            <td class="bold_title_style" >-</td>
                            <td class="bold_title_style2" style="border-bottom: hidden;"></td>
                            <td class="bold_title_style2" style="border-bottom: hidden;"></td>
                        </tr>
                        <tr>
                            <td style="border-left: hidden; border-right: hidden;" colspan="17"></td>
                            <td style="border-left: hidden; border-right: hidden; border-top: hidden;" colspan="2"></td>
                        </tr>
                        <tr>
                            <td class="bold_table_style" rowspan="2">Vuelo Nº. o Clase</td>
                            <td class="bold_table_style" rowspan="2">Fecha</td>
                            <td class="bold_table_style" colspan="2">Aeropuerto de</td>
                            <td class="bold_table_style" colspan="2">Aeropuerto de</td>
                            <td class="bold_table_style" colspan="2">Horas de vuelo</td>
                            <td class="bold_table_style" colspan="2">Horas totales</td>
                            <td class="bold_table_style" colspan="2">Horas motor</td>
                            <td class="bold_table_style" rowspan="2">Nº de Aterrizajes</td>
                            <td class="bold_table_style" rowspan="2">Nº de Pasajeros</td>
                            <td class="bold_table_style" rowspan="2" colspan="2">Nº de Tripulantes</td>
                            <td class="bold_table_style" rowspan="2">Comandante</td>
                            <td class="bold_table_style" rowspan="2">Firma</td>
                            <td class="bold_table_style" rowspan="2">Alumno / Verificado</td>
                        </tr>
                        <tr>
                            <td class="bold_table_style">Salida</td>
                            <td class="bold_table_style">Hora</td>
                            <td class="bold_table_style">LLegada</td>
                            <td class="bold_table_style">Hora</td>
                            <td class="bold_table_style">Horas</td>
                            <td class="bold_table_style">Min.</td>
                            <td class="bold_table_style">Horas</td>
                            <td class="bold_table_style">Min.</td>
                            <td class="bold_table_style">Horas</td>
                            <td class="bold_table_style">Min.</td>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="docs" t-as="o">
                            <tr>
                                <td class="normal_table_style"><span t-field="o.codigo"/></td>
                                <td class="normal_table_style"><span t-field="o.fechavuelo"/></td>
                                <td class="normal_table_style"><span t-field="o.lugarsalida.name"/></td>
                                <td class="normal_table_style"><span t-field="o.strhorasalida"/></td>
                                <td class="normal_table_style"><span t-field="o.lugarllegada.name"/></td>
                                <td class="normal_table_style"><span t-field="o.strhorallegadaairtime"/></td>
                                <t t-set="horas" t-value="o.strairtime.split(':')[0]"/>
                                <t t-set="minutos" t-value="o.strairtime.split(':')[1]"/>
                                <td class="normal_table_style"><span t-esc="horas"/></td>
                                <td class="normal_table_style"><span t-esc="minutos"/></td>
                                <t t-set="horas" t-value="o.strdeltahoras.split(':')[0]"/>
                                <t t-set="minutos" t-value="o.strdeltahoras.split(':')[1]"/>
                                <td class="normal_table_style"><span t-esc="horas"/></td>
                                <td class="normal_table_style"><span t-esc="minutos"/></td>
                                <t t-set="horas" t-value="o.strdeltahorasmotor.split(':')[0]"/>
                                <t t-set="minutos" t-value="o.strdeltahorasmotor.split(':')[1]"/>
                                <td class="normal_table_style"><span t-esc="horas"/></td>
                                <td class="normal_table_style"><span t-esc="minutos"/></td>
                                <td class="normal_table_style"><span t-field="o.deltalandings"/></td>
                                <td class="normal_table_style"><span t-field="o.numpax"/></td>
                                <td class="normal_table_style" colspan="2"><span t-field="o.numtripulacion"/></td>
                                <td class="small_table_style"><span t-field="o.piloto_id.name"/></td>
                                <td class="small_table_style"><img t-if="o.piloto_id.firma != False" t-att-src="image_data_uri(o.piloto_id.firma)" style="width: auto; height:20px"/></td>		
                                <td class="small_table_style"><span t-field="o.verificado.name"/></td>		
                            </tr>
                            <!-- <tr>
                                <td>
                                    <span style="padding-left:0.2cm; border-top: hidden;"><img t-att-src="'data:image/png ;base64,%s' % o.piloto_id.firma" style="width: auto; height:20px"/></span>
                                </td>
                            </tr> -->
                        </t>
                    </tbody>
                </table>
            </t>
        </template>


    </data>
</odoo>